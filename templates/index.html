<html>
<head>
	<title>Local Net Monit</title>

	<style>
		/* charcoal dark background */
		body {
			background-color: #333;
			color: #ddd;
			font-family: Arial, sans-serif;
		}

		/* Horizontal line at 33% from the top */
		.horizontal-line {
			position: absolute;
			top: 33%;
			width: 100%;
			border-top: 2px solid black;
		}

		.title-top {
			text-align: center;
			font-size: 24px;
			margin-top: 20px;
		}

		.title-local-network {
			position: absolute;
			top: calc(33% + 10px); /* Positioning below the line */
			left: 50%;
			transform: translateX(-50%);
			font-size: 24px;
		}

		.port-boxes {
		    position: absolute;
		    top: calc(33% - 80px); /* Adjust the vertical position above the line */
		    left: 50%;
		    transform: translateX(-50%);
		    display: flex;
		    gap: 20px; /* Space between boxes */
		}

		/* Styling for Ethernet-like port box */
		.port-box {
		    width: 70px;
		    height: 60px;
		    background-color: #222;
		    border: 3px solid #888; /* Simulating a metallic border */
		    border-radius: 3px;
		    position: relative;
		    display: flex;
		    justify-content: center;
		    align-items: center;
		    color: white;
		    font-size: 15px;
		    text-align: center;
		}

		/* Simulating port "keyhole" slots at the bottom */
		.port-box::before {
		    content: '';
		    position: absolute;
		    bottom: 5px;
		    left: 50%;
		    transform: translateX(-50%);
		    width: 20px;
		    height: 5px;
		    background-color: green; /* Darker area representing the socket holes */
		    border-radius: 2px;
		}

		.port-box-warning::before {
		    content: '';
		    position: absolute;
		    bottom: 5px;
		    left: 50%;
		    transform: translateX(-50%);
		    width: 20px;
		    height: 5px;
		    background-color: red; /* Darker area representing the socket holes */
		    border-radius: 2px;
		}

		/* Simulating the plastic shield on top */
		.port-box::after {
		    content: '';
		    position: absolute;
		    top: 0;
		    left: 0;
		    width: 100%;
		    height: 50%;
		    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), transparent);
		    border-top-left-radius: 2px;
		    border-top-right-radius: 2px;
		}

		/* Styling for the list of IPs and their ports */
		.ip-list {
			position: absolute;
			top: calc(33% + 60px); /* Adjust vertical position below the line */
			width: 100%;
			padding: 20px;
			box-sizing: border-box;
		}

		.ip-node {
			margin-bottom: 20px;
			text-align: center; /* Centering the IP node and its ports */
		}

		.ip-node-title {
			width: 100px;
			height: 100px;
			background-color: #444;
			border-radius: 50%;
			display: flex;
			justify-content: center;
			align-items: center;
			margin: 0 auto 10px;
			font-size: 14px;
			font-weight: bold;
			color: #fff;
			line-height: 1.2; /* Ensure IP fits within the circle */
			word-wrap: break-word; /* Allow longer IP addresses to wrap */
		}

		.port-container {
			display: flex;
			gap: 10px;
			flex-wrap: wrap;
			justify-content: center;
		}

	</style>
</head>
<body>
	<div class="title-top">Internet ({{ .NetScanner.PublicNode.IP }})</div>
	<div class="title-local-network">Local Network</div>
	
	<div class="port-boxes">
		{{range $port := .NetScanner.PublicNode.Ports }}
			{{ if eq $port.Verified true }}
				<div class="port-box">Port {{ $port.PortNumber }}</div>
			{{ else }}
				<div class="port-box port-box-warning">Port {{ $port.PortNumber }}</div>
			{{ end }}
		{{end}}
		<div class="port-box">Port 12345</div>
		<div class="port-box">Port 54321</div>
		<div class="port-box port-box-warning">Port 54321</div>
		<div class="port-box">Port 54321</div>

	</div>

	<div class="horizontal-line"></div>
	<!--
	<div>
		<ul>
			{{range $ip, $node := .NetScanner.NodeStatuses }}
			<li>
				{{$ip}}
				<ul>
					{{range $port := $node.Ports}}
					<li>
						{{$port}}
					</li>
					{{end}}

				</ul>
			</li>
			{{end}}
		</ul>
	</div>
	-->

	<!-- List of IPs with their ports -->

	<div class="ip-list">
		{{range $ip, $node := .NetScanner.NodeStatuses }}
		<div class="ip-node">
			<!-- Circle for IP -->
			<div class="ip-node-title">{{ $ip }}</div>
			<!-- Ports associated with the node -->
			<div class="port-container">
				{{range $port := $node.Ports }}
					{{ if eq $port.Verified true }}
						<div class="port-box">Port {{ $port.PortNumber }}</div>
					{{ else }}
						<div class="port-box port-box-warning">Port {{ $port.PortNumber }}</div>
					{{ end }}
				{{end}}
			</div>
		</div>
		{{end}}
	</div>

</body>
</html>
